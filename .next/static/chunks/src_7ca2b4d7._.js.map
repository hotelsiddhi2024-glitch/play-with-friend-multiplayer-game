{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 7, "column": 0}, "map": {"version":3,"sources":["file:///project/sandbox/user-workspace/src/lib/utils.ts"],"sourcesContent":["import { clsx, type ClassValue } from \"clsx\"\nimport { twMerge } from \"tailwind-merge\"\n\nexport function cn(...inputs: ClassValue[]) {\n  return twMerge(clsx(inputs))\n}\n"],"names":[],"mappings":";;;AAAA;AACA;;;AAEO,SAAS,GAAG,GAAG,MAAoB;IACxC,OAAO,CAAA,GAAA,8JAAA,CAAA,UAAO,AAAD,EAAE,CAAA,GAAA,wIAAA,CAAA,OAAI,AAAD,EAAE;AACtB","debugId":null}},
    {"offset": {"line": 26, "column": 0}, "map": {"version":3,"sources":["file:///project/sandbox/user-workspace/src/components/ui/button.tsx"],"sourcesContent":["import * as React from \"react\"\nimport { Slot } from \"@radix-ui/react-slot\"\nimport { cva, type VariantProps } from \"class-variance-authority\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst buttonVariants = cva(\n  \"inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive\",\n  {\n    variants: {\n      variant: {\n        default:\n          \"bg-primary text-primary-foreground shadow-xs hover:bg-primary/90\",\n        destructive:\n          \"bg-destructive text-white shadow-xs hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60\",\n        outline:\n          \"border bg-background shadow-xs hover:bg-accent hover:text-accent-foreground dark:bg-input/30 dark:border-input dark:hover:bg-input/50\",\n        secondary:\n          \"bg-secondary text-secondary-foreground shadow-xs hover:bg-secondary/80\",\n        ghost:\n          \"hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50\",\n        link: \"text-primary underline-offset-4 hover:underline\",\n      },\n      size: {\n        default: \"h-9 px-4 py-2 has-[>svg]:px-3\",\n        sm: \"h-8 rounded-md gap-1.5 px-3 has-[>svg]:px-2.5\",\n        lg: \"h-10 rounded-md px-6 has-[>svg]:px-4\",\n        icon: \"size-9\",\n      },\n    },\n    defaultVariants: {\n      variant: \"default\",\n      size: \"default\",\n    },\n  }\n)\n\nfunction Button({\n  className,\n  variant,\n  size,\n  asChild = false,\n  ...props\n}: React.ComponentProps<\"button\"> &\n  VariantProps<typeof buttonVariants> & {\n    asChild?: boolean\n  }) {\n  const Comp = asChild ? Slot : \"button\"\n\n  return (\n    <Comp\n      data-slot=\"button\"\n      className={cn(buttonVariants({ variant, size, className }))}\n      {...props}\n    />\n  )\n}\n\nexport { Button, buttonVariants }\n"],"names":[],"mappings":";;;;;AACA;AACA;AAEA;;;;;AAEA,MAAM,iBAAiB,CAAA,GAAA,mKAAA,CAAA,MAAG,AAAD,EACvB,+bACA;IACE,UAAU;QACR,SAAS;YACP,SACE;YACF,aACE;YACF,SACE;YACF,WACE;YACF,OACE;YACF,MAAM;QACR;QACA,MAAM;YACJ,SAAS;YACT,IAAI;YACJ,IAAI;YACJ,MAAM;QACR;IACF;IACA,iBAAiB;QACf,SAAS;QACT,MAAM;IACR;AACF;AAGF,SAAS,OAAO,EACd,SAAS,EACT,OAAO,EACP,IAAI,EACJ,UAAU,KAAK,EACf,GAAG,OAIF;IACD,MAAM,OAAO,UAAU,mKAAA,CAAA,OAAI,GAAG;IAE9B,qBACE,6LAAC;QACC,aAAU;QACV,WAAW,CAAA,GAAA,sHAAA,CAAA,KAAE,AAAD,EAAE,eAAe;YAAE;YAAS;YAAM;QAAU;QACvD,GAAG,KAAK;;;;;;AAGf;KAnBS","debugId":null}},
    {"offset": {"line": 89, "column": 0}, "map": {"version":3,"sources":["file:///project/sandbox/user-workspace/src/components/ui/input.tsx"],"sourcesContent":["import * as React from \"react\"\n\nimport { cn } from \"@/lib/utils\"\n\nfunction Input({ className, type, ...props }: React.ComponentProps<\"input\">) {\n  return (\n    <input\n      type={type}\n      data-slot=\"input\"\n      className={cn(\n        \"file:text-foreground placeholder:text-muted-foreground selection:bg-primary selection:text-primary-foreground dark:bg-input/30 border-input flex h-9 w-full min-w-0 rounded-md border bg-transparent px-3 py-1 text-base shadow-xs transition-[color,box-shadow] outline-none file:inline-flex file:h-7 file:border-0 file:bg-transparent file:text-sm file:font-medium disabled:pointer-events-none disabled:cursor-not-allowed disabled:opacity-50 md:text-sm\",\n        \"focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px]\",\n        \"aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive\",\n        className\n      )}\n      {...props}\n    />\n  )\n}\n\nexport { Input }\n"],"names":[],"mappings":";;;;AAEA;;;AAEA,SAAS,MAAM,EAAE,SAAS,EAAE,IAAI,EAAE,GAAG,OAAsC;IACzE,qBACE,6LAAC;QACC,MAAM;QACN,aAAU;QACV,WAAW,CAAA,GAAA,sHAAA,CAAA,KAAE,AAAD,EACV,mcACA,iFACA,0GACA;QAED,GAAG,KAAK;;;;;;AAGf;KAdS","debugId":null}},
    {"offset": {"line": 121, "column": 0}, "map": {"version":3,"sources":["file:///project/sandbox/user-workspace/src/components/ui/card.tsx"],"sourcesContent":["import * as React from \"react\"\n\nimport { cn } from \"@/lib/utils\"\n\nfunction Card({ className, ...props }: React.ComponentProps<\"div\">) {\n  return (\n    <div\n      data-slot=\"card\"\n      className={cn(\n        \"bg-card text-card-foreground flex flex-col gap-6 rounded-xl border py-6 shadow-sm\",\n        className\n      )}\n      {...props}\n    />\n  )\n}\n\nfunction CardHeader({ className, ...props }: React.ComponentProps<\"div\">) {\n  return (\n    <div\n      data-slot=\"card-header\"\n      className={cn(\n        \"@container/card-header grid auto-rows-min grid-rows-[auto_auto] items-start gap-1.5 px-6 has-data-[slot=card-action]:grid-cols-[1fr_auto] [.border-b]:pb-6\",\n        className\n      )}\n      {...props}\n    />\n  )\n}\n\nfunction CardTitle({ className, ...props }: React.ComponentProps<\"div\">) {\n  return (\n    <div\n      data-slot=\"card-title\"\n      className={cn(\"leading-none font-semibold\", className)}\n      {...props}\n    />\n  )\n}\n\nfunction CardDescription({ className, ...props }: React.ComponentProps<\"div\">) {\n  return (\n    <div\n      data-slot=\"card-description\"\n      className={cn(\"text-muted-foreground text-sm\", className)}\n      {...props}\n    />\n  )\n}\n\nfunction CardAction({ className, ...props }: React.ComponentProps<\"div\">) {\n  return (\n    <div\n      data-slot=\"card-action\"\n      className={cn(\n        \"col-start-2 row-span-2 row-start-1 self-start justify-self-end\",\n        className\n      )}\n      {...props}\n    />\n  )\n}\n\nfunction CardContent({ className, ...props }: React.ComponentProps<\"div\">) {\n  return (\n    <div\n      data-slot=\"card-content\"\n      className={cn(\"px-6\", className)}\n      {...props}\n    />\n  )\n}\n\nfunction CardFooter({ className, ...props }: React.ComponentProps<\"div\">) {\n  return (\n    <div\n      data-slot=\"card-footer\"\n      className={cn(\"flex items-center px-6 [.border-t]:pt-6\", className)}\n      {...props}\n    />\n  )\n}\n\nexport {\n  Card,\n  CardHeader,\n  CardFooter,\n  CardTitle,\n  CardAction,\n  CardDescription,\n  CardContent,\n}\n"],"names":[],"mappings":";;;;;;;;;;AAEA;;;AAEA,SAAS,KAAK,EAAE,SAAS,EAAE,GAAG,OAAoC;IAChE,qBACE,6LAAC;QACC,aAAU;QACV,WAAW,CAAA,GAAA,sHAAA,CAAA,KAAE,AAAD,EACV,qFACA;QAED,GAAG,KAAK;;;;;;AAGf;KAXS;AAaT,SAAS,WAAW,EAAE,SAAS,EAAE,GAAG,OAAoC;IACtE,qBACE,6LAAC;QACC,aAAU;QACV,WAAW,CAAA,GAAA,sHAAA,CAAA,KAAE,AAAD,EACV,8JACA;QAED,GAAG,KAAK;;;;;;AAGf;MAXS;AAaT,SAAS,UAAU,EAAE,SAAS,EAAE,GAAG,OAAoC;IACrE,qBACE,6LAAC;QACC,aAAU;QACV,WAAW,CAAA,GAAA,sHAAA,CAAA,KAAE,AAAD,EAAE,8BAA8B;QAC3C,GAAG,KAAK;;;;;;AAGf;MARS;AAUT,SAAS,gBAAgB,EAAE,SAAS,EAAE,GAAG,OAAoC;IAC3E,qBACE,6LAAC;QACC,aAAU;QACV,WAAW,CAAA,GAAA,sHAAA,CAAA,KAAE,AAAD,EAAE,iCAAiC;QAC9C,GAAG,KAAK;;;;;;AAGf;MARS;AAUT,SAAS,WAAW,EAAE,SAAS,EAAE,GAAG,OAAoC;IACtE,qBACE,6LAAC;QACC,aAAU;QACV,WAAW,CAAA,GAAA,sHAAA,CAAA,KAAE,AAAD,EACV,kEACA;QAED,GAAG,KAAK;;;;;;AAGf;MAXS;AAaT,SAAS,YAAY,EAAE,SAAS,EAAE,GAAG,OAAoC;IACvE,qBACE,6LAAC;QACC,aAAU;QACV,WAAW,CAAA,GAAA,sHAAA,CAAA,KAAE,AAAD,EAAE,QAAQ;QACrB,GAAG,KAAK;;;;;;AAGf;MARS;AAUT,SAAS,WAAW,EAAE,SAAS,EAAE,GAAG,OAAoC;IACtE,qBACE,6LAAC;QACC,aAAU;QACV,WAAW,CAAA,GAAA,sHAAA,CAAA,KAAE,AAAD,EAAE,2CAA2C;QACxD,GAAG,KAAK;;;;;;AAGf;MARS","debugId":null}},
    {"offset": {"line": 236, "column": 0}, "map": {"version":3,"sources":["file:///project/sandbox/user-workspace/src/components/ui/alert.tsx"],"sourcesContent":["import * as React from \"react\"\nimport { cva, type VariantProps } from \"class-variance-authority\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst alertVariants = cva(\n  \"relative w-full rounded-lg border px-4 py-3 text-sm grid has-[>svg]:grid-cols-[calc(var(--spacing)*4)_1fr] grid-cols-[0_1fr] has-[>svg]:gap-x-3 gap-y-0.5 items-start [&>svg]:size-4 [&>svg]:translate-y-0.5 [&>svg]:text-current\",\n  {\n    variants: {\n      variant: {\n        default: \"bg-card text-card-foreground\",\n        destructive:\n          \"text-destructive bg-card [&>svg]:text-current *:data-[slot=alert-description]:text-destructive/90\",\n      },\n    },\n    defaultVariants: {\n      variant: \"default\",\n    },\n  }\n)\n\nfunction Alert({\n  className,\n  variant,\n  ...props\n}: React.ComponentProps<\"div\"> & VariantProps<typeof alertVariants>) {\n  return (\n    <div\n      data-slot=\"alert\"\n      role=\"alert\"\n      className={cn(alertVariants({ variant }), className)}\n      {...props}\n    />\n  )\n}\n\nfunction AlertTitle({ className, ...props }: React.ComponentProps<\"div\">) {\n  return (\n    <div\n      data-slot=\"alert-title\"\n      className={cn(\n        \"col-start-2 line-clamp-1 min-h-4 font-medium tracking-tight\",\n        className\n      )}\n      {...props}\n    />\n  )\n}\n\nfunction AlertDescription({\n  className,\n  ...props\n}: React.ComponentProps<\"div\">) {\n  return (\n    <div\n      data-slot=\"alert-description\"\n      className={cn(\n        \"text-muted-foreground col-start-2 grid justify-items-start gap-1 text-sm [&_p]:leading-relaxed\",\n        className\n      )}\n      {...props}\n    />\n  )\n}\n\nexport { Alert, AlertTitle, AlertDescription }\n"],"names":[],"mappings":";;;;;;AACA;AAEA;;;;AAEA,MAAM,gBAAgB,CAAA,GAAA,mKAAA,CAAA,MAAG,AAAD,EACtB,qOACA;IACE,UAAU;QACR,SAAS;YACP,SAAS;YACT,aACE;QACJ;IACF;IACA,iBAAiB;QACf,SAAS;IACX;AACF;AAGF,SAAS,MAAM,EACb,SAAS,EACT,OAAO,EACP,GAAG,OAC8D;IACjE,qBACE,6LAAC;QACC,aAAU;QACV,MAAK;QACL,WAAW,CAAA,GAAA,sHAAA,CAAA,KAAE,AAAD,EAAE,cAAc;YAAE;QAAQ,IAAI;QACzC,GAAG,KAAK;;;;;;AAGf;KAbS;AAeT,SAAS,WAAW,EAAE,SAAS,EAAE,GAAG,OAAoC;IACtE,qBACE,6LAAC;QACC,aAAU;QACV,WAAW,CAAA,GAAA,sHAAA,CAAA,KAAE,AAAD,EACV,+DACA;QAED,GAAG,KAAK;;;;;;AAGf;MAXS;AAaT,SAAS,iBAAiB,EACxB,SAAS,EACT,GAAG,OACyB;IAC5B,qBACE,6LAAC;QACC,aAAU;QACV,WAAW,CAAA,GAAA,sHAAA,CAAA,KAAE,AAAD,EACV,kGACA;QAED,GAAG,KAAK;;;;;;AAGf;MAdS","debugId":null}},
    {"offset": {"line": 311, "column": 0}, "map": {"version":3,"sources":["file:///project/sandbox/user-workspace/src/components/ui/badge.tsx"],"sourcesContent":["import * as React from \"react\"\nimport { Slot } from \"@radix-ui/react-slot\"\nimport { cva, type VariantProps } from \"class-variance-authority\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst badgeVariants = cva(\n  \"inline-flex items-center justify-center rounded-md border px-2 py-0.5 text-xs font-medium w-fit whitespace-nowrap shrink-0 [&>svg]:size-3 gap-1 [&>svg]:pointer-events-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive transition-[color,box-shadow] overflow-hidden\",\n  {\n    variants: {\n      variant: {\n        default:\n          \"border-transparent bg-primary text-primary-foreground [a&]:hover:bg-primary/90\",\n        secondary:\n          \"border-transparent bg-secondary text-secondary-foreground [a&]:hover:bg-secondary/90\",\n        destructive:\n          \"border-transparent bg-destructive text-white [a&]:hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60\",\n        outline:\n          \"text-foreground [a&]:hover:bg-accent [a&]:hover:text-accent-foreground\",\n      },\n    },\n    defaultVariants: {\n      variant: \"default\",\n    },\n  }\n)\n\nfunction Badge({\n  className,\n  variant,\n  asChild = false,\n  ...props\n}: React.ComponentProps<\"span\"> &\n  VariantProps<typeof badgeVariants> & { asChild?: boolean }) {\n  const Comp = asChild ? Slot : \"span\"\n\n  return (\n    <Comp\n      data-slot=\"badge\"\n      className={cn(badgeVariants({ variant }), className)}\n      {...props}\n    />\n  )\n}\n\nexport { Badge, badgeVariants }\n"],"names":[],"mappings":";;;;;AACA;AACA;AAEA;;;;;AAEA,MAAM,gBAAgB,CAAA,GAAA,mKAAA,CAAA,MAAG,AAAD,EACtB,kZACA;IACE,UAAU;QACR,SAAS;YACP,SACE;YACF,WACE;YACF,aACE;YACF,SACE;QACJ;IACF;IACA,iBAAiB;QACf,SAAS;IACX;AACF;AAGF,SAAS,MAAM,EACb,SAAS,EACT,OAAO,EACP,UAAU,KAAK,EACf,GAAG,OAEuD;IAC1D,MAAM,OAAO,UAAU,mKAAA,CAAA,OAAI,GAAG;IAE9B,qBACE,6LAAC;QACC,aAAU;QACV,WAAW,CAAA,GAAA,sHAAA,CAAA,KAAE,AAAD,EAAE,cAAc;YAAE;QAAQ,IAAI;QACzC,GAAG,KAAK;;;;;;AAGf;KAhBS","debugId":null}},
    {"offset": {"line": 363, "column": 0}, "map": {"version":3,"sources":["file:///project/sandbox/user-workspace/src/lib/socket.ts"],"sourcesContent":["import { io, Socket } from 'socket.io-client';\n\nclass SocketManager {\n  private socket: Socket | null = null;\n  private static instance: SocketManager;\n\n  private constructor() {}\n\n  public static getInstance(): SocketManager {\n    if (!SocketManager.instance) {\n      SocketManager.instance = new SocketManager();\n    }\n    return SocketManager.instance;\n  }\n\n  public connect(): Socket {\n    if (!this.socket) {\n      this.socket = io({\n        path: '/api/socket',\n        addTrailingSlash: false,\n        reconnectionAttempts: 5,\n        reconnectionDelay: 1000,\n      });\n\n      this.socket.on('connect', () => {\n        console.log('Connected to server:', this.socket?.id);\n      });\n\n      this.socket.on('disconnect', (reason) => {\n        console.log('Disconnected from server:', reason);\n      });\n\n      this.socket.on('connect_error', (error) => {\n        console.error('Connection error:', error);\n      });\n\n      this.socket.on('error', (error) => {\n        console.error('Socket error:', error);\n      });\n    }\n\n    return this.socket;\n  }\n\n  public disconnect(): void {\n    if (this.socket) {\n      this.socket.disconnect();\n      this.socket = null;\n    }\n  }\n\n  public getSocket(): Socket | null {\n    return this.socket;\n  }\n}\n\nexport default SocketManager.getInstance();\n"],"names":[],"mappings":";;;AAAA;AAAA;;AAEA,MAAM;IACI,SAAwB,KAAK;IACrC,OAAe,SAAwB;IAEvC,aAAsB,CAAC;IAEvB,OAAc,cAA6B;QACzC,IAAI,CAAC,cAAc,QAAQ,EAAE;YAC3B,cAAc,QAAQ,GAAG,IAAI;QAC/B;QACA,OAAO,cAAc,QAAQ;IAC/B;IAEO,UAAkB;QACvB,IAAI,CAAC,IAAI,CAAC,MAAM,EAAE;YAChB,IAAI,CAAC,MAAM,GAAG,CAAA,GAAA,kLAAA,CAAA,KAAE,AAAD,EAAE;gBACf,MAAM;gBACN,kBAAkB;gBAClB,sBAAsB;gBACtB,mBAAmB;YACrB;YAEA,IAAI,CAAC,MAAM,CAAC,EAAE,CAAC,WAAW;gBACxB,QAAQ,GAAG,CAAC,wBAAwB,IAAI,CAAC,MAAM,EAAE;YACnD;YAEA,IAAI,CAAC,MAAM,CAAC,EAAE,CAAC,cAAc,CAAC;gBAC5B,QAAQ,GAAG,CAAC,6BAA6B;YAC3C;YAEA,IAAI,CAAC,MAAM,CAAC,EAAE,CAAC,iBAAiB,CAAC;gBAC/B,QAAQ,KAAK,CAAC,qBAAqB;YACrC;YAEA,IAAI,CAAC,MAAM,CAAC,EAAE,CAAC,SAAS,CAAC;gBACvB,QAAQ,KAAK,CAAC,iBAAiB;YACjC;QACF;QAEA,OAAO,IAAI,CAAC,MAAM;IACpB;IAEO,aAAmB;QACxB,IAAI,IAAI,CAAC,MAAM,EAAE;YACf,IAAI,CAAC,MAAM,CAAC,UAAU;YACtB,IAAI,CAAC,MAAM,GAAG;QAChB;IACF;IAEO,YAA2B;QAChC,OAAO,IAAI,CAAC,MAAM;IACpB;AACF;uCAEe,cAAc,WAAW","debugId":null}},
    {"offset": {"line": 422, "column": 0}, "map": {"version":3,"sources":["file:///project/sandbox/user-workspace/src/components/GameLobby.tsx"],"sourcesContent":["\"use client\";\n\nimport { useState, useEffect } from 'react';\nimport { Button } from '@/components/ui/button';\nimport { Input } from '@/components/ui/input';\nimport { Card, CardContent, CardHeader, CardTitle } from '@/components/ui/card';\nimport { Alert, AlertDescription } from '@/components/ui/alert';\nimport { Badge } from '@/components/ui/badge';\nimport socketManager from '@/lib/socket';\nimport { Socket } from 'socket.io-client';\n\ninterface Player {\n  id: string;\n  name: string;\n  room: string;\n  inventory: {\n    guns: number;\n    ammo: number;\n  };\n  position: {\n    x: number;\n    y: number;\n  };\n}\n\ninterface GameLobbyProps {\n  onGameStart: (roomId: string, players: Player[]) => void;\n}\n\nexport default function GameLobby({ onGameStart }: GameLobbyProps) {\n  const [playerName, setPlayerName] = useState('');\n  const [roomId, setRoomId] = useState('');\n  const [players, setPlayers] = useState<Player[]>([]);\n  const [isConnecting, setIsConnecting] = useState(false);\n  const [error, setError] = useState('');\n  const [socket, setSocket] = useState<Socket | null>(null);\n\n  useEffect(() => {\n    const socketInstance = socketManager.connect();\n    setSocket(socketInstance);\n\n    // Generate random room ID if not provided\n    if (!roomId) {\n      setRoomId(Math.random().toString(36).substring(2, 8).toUpperCase());\n    }\n\n    // Socket event listeners\n    socketInstance.on('playerJoined', (data: { player: Player; players: Player[] }) => {\n      setPlayers(data.players);\n      setError('');\n      \n      // Start game if we have at least 2 players\n      if (data.players.length >= 2) {\n        setTimeout(() => {\n          onGameStart(roomId, data.players);\n        }, 1000);\n      }\n    });\n\n    socketInstance.on('error', (data: { message: string }) => {\n      setError(data.message);\n      setIsConnecting(false);\n    });\n\n    return () => {\n      socketInstance.off('playerJoined');\n      socketInstance.off('error');\n    };\n  }, [roomId, onGameStart]);\n\n  const handleJoinRoom = (e: React.FormEvent) => {\n    e.preventDefault();\n    \n    if (!playerName.trim()) {\n      setError('Please enter your name');\n      return;\n    }\n\n    if (!roomId.trim()) {\n      setError('Please enter a room ID');\n      return;\n    }\n\n    if (!socket) {\n      setError('Connection not established');\n      return;\n    }\n\n    setIsConnecting(true);\n    setError('');\n\n    socket.emit('joinRoom', {\n      name: playerName.trim(),\n      roomId: roomId.trim().toUpperCase()\n    });\n  };\n\n  const generateNewRoomId = () => {\n    const newRoomId = Math.random().toString(36).substring(2, 8).toUpperCase();\n    setRoomId(newRoomId);\n  };\n\n  return (\n    <div className=\"min-h-screen bg-background flex items-center justify-center p-4\">\n      <Card className=\"w-full max-w-md\">\n        <CardHeader className=\"text-center\">\n          <CardTitle className=\"text-2xl font-bold\">Play with Friend</CardTitle>\n          <p className=\"text-muted-foreground\">\n            Multiplayer shooting game where you steal guns and ammo to attack!\n          </p>\n        </CardHeader>\n        \n        <CardContent className=\"space-y-6\">\n          {error && (\n            <Alert variant=\"destructive\">\n              <AlertDescription>{error}</AlertDescription>\n            </Alert>\n          )}\n\n          <form onSubmit={handleJoinRoom} className=\"space-y-4\">\n            <div className=\"space-y-2\">\n              <label htmlFor=\"playerName\" className=\"text-sm font-medium\">\n                Your Name\n              </label>\n              <Input\n                id=\"playerName\"\n                type=\"text\"\n                placeholder=\"Enter your name\"\n                value={playerName}\n                onChange={(e) => setPlayerName(e.target.value)}\n                disabled={isConnecting}\n                maxLength={20}\n              />\n            </div>\n\n            <div className=\"space-y-2\">\n              <label htmlFor=\"roomId\" className=\"text-sm font-medium\">\n                Room ID\n              </label>\n              <div className=\"flex gap-2\">\n                <Input\n                  id=\"roomId\"\n                  type=\"text\"\n                  placeholder=\"Room ID\"\n                  value={roomId}\n                  onChange={(e) => setRoomId(e.target.value.toUpperCase())}\n                  disabled={isConnecting}\n                  maxLength={6}\n                />\n                <Button\n                  type=\"button\"\n                  variant=\"outline\"\n                  onClick={generateNewRoomId}\n                  disabled={isConnecting}\n                >\n                  New\n                </Button>\n              </div>\n              <p className=\"text-xs text-muted-foreground\">\n                Share this Room ID with friends to play together\n              </p>\n            </div>\n\n            <Button\n              type=\"submit\"\n              className=\"w-full\"\n              disabled={isConnecting || !playerName.trim() || !roomId.trim()}\n            >\n              {isConnecting ? 'Joining...' : 'Join Game'}\n            </Button>\n          </form>\n\n          {players.length > 0 && (\n            <div className=\"space-y-3\">\n              <h3 className=\"font-medium\">Players in Room ({players.length}/6)</h3>\n              <div className=\"space-y-2\">\n                {players.map((player) => (\n                  <div\n                    key={player.id}\n                    className=\"flex items-center justify-between p-3 bg-muted rounded-lg\"\n                  >\n                    <div className=\"flex items-center gap-3\">\n                      <img\n                        src=\"https://placehold.co/40x40?text=Player+Avatar+Gaming+Profile\"\n                        alt={`${player.name} avatar`}\n                        className=\"w-10 h-10 rounded-full\"\n                        onError={(e) => {\n                          const target = e.target as HTMLImageElement;\n                          target.src = \"https://placehold.co/40x40?text=P\";\n                        }}\n                      />\n                      <span className=\"font-medium\">{player.name}</span>\n                    </div>\n                    <div className=\"flex gap-1\">\n                      <Badge variant=\"secondary\">\n                        {player.inventory.guns} guns\n                      </Badge>\n                      <Badge variant=\"outline\">\n                        {player.inventory.ammo} ammo\n                      </Badge>\n                    </div>\n                  </div>\n                ))}\n              </div>\n              \n              {players.length >= 2 && (\n                <Alert>\n                  <AlertDescription>\n                    Game will start automatically! Get ready to steal and attack!\n                  </AlertDescription>\n                </Alert>\n              )}\n              \n              {players.length < 2 && (\n                <p className=\"text-sm text-muted-foreground text-center\">\n                  Waiting for more players... (Need at least 2 players)\n                </p>\n              )}\n            </div>\n          )}\n\n          <div className=\"text-center space-y-2\">\n            <h4 className=\"font-medium text-sm\">How to Play:</h4>\n            <div className=\"text-xs text-muted-foreground space-y-1\">\n              <p>• Tap other players to steal their guns and ammo</p>\n              <p>• You need guns AND ammo to attack</p>\n              <p>• Use voice chat to coordinate with friends</p>\n              <p>• 2-6 players can play together</p>\n            </div>\n          </div>\n        </CardContent>\n      </Card>\n    </div>\n  );\n}\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 877, "column": 0}, "map": {"version":3,"sources":["file:///project/sandbox/user-workspace/src/components/ui/progress.tsx"],"sourcesContent":["\"use client\"\n\nimport * as React from \"react\"\nimport * as ProgressPrimitive from \"@radix-ui/react-progress\"\n\nimport { cn } from \"@/lib/utils\"\n\nfunction Progress({\n  className,\n  value,\n  ...props\n}: React.ComponentProps<typeof ProgressPrimitive.Root>) {\n  return (\n    <ProgressPrimitive.Root\n      data-slot=\"progress\"\n      className={cn(\n        \"bg-primary/20 relative h-2 w-full overflow-hidden rounded-full\",\n        className\n      )}\n      {...props}\n    >\n      <ProgressPrimitive.Indicator\n        data-slot=\"progress-indicator\"\n        className=\"bg-primary h-full w-full flex-1 transition-all\"\n        style={{ transform: `translateX(-${100 - (value || 0)}%)` }}\n      />\n    </ProgressPrimitive.Root>\n  )\n}\n\nexport { Progress }\n"],"names":[],"mappings":";;;;AAGA;AAEA;AALA;;;;AAOA,SAAS,SAAS,EAChB,SAAS,EACT,KAAK,EACL,GAAG,OACiD;IACpD,qBACE,6LAAC,uKAAA,CAAA,OAAsB;QACrB,aAAU;QACV,WAAW,CAAA,GAAA,sHAAA,CAAA,KAAE,AAAD,EACV,kEACA;QAED,GAAG,KAAK;kBAET,cAAA,6LAAC,uKAAA,CAAA,YAA2B;YAC1B,aAAU;YACV,WAAU;YACV,OAAO;gBAAE,WAAW,CAAC,YAAY,EAAE,MAAM,CAAC,SAAS,CAAC,EAAE,EAAE,CAAC;YAAC;;;;;;;;;;;AAIlE;KArBS","debugId":null}},
    {"offset": {"line": 922, "column": 0}, "map": {"version":3,"sources":["file:///project/sandbox/user-workspace/src/components/GameRoom.tsx"],"sourcesContent":["\"use client\";\n\nimport { useState, useEffect, useRef } from 'react';\nimport { Button } from '@/components/ui/button';\nimport { Card, CardContent, CardHeader, CardTitle } from '@/components/ui/card';\nimport { Alert, AlertDescription } from '@/components/ui/alert';\nimport { Badge } from '@/components/ui/badge';\nimport { Progress } from '@/components/ui/progress';\nimport socketManager from '@/lib/socket';\nimport { Socket } from 'socket.io-client';\n\ninterface Player {\n  id: string;\n  name: string;\n  room: string;\n  inventory: {\n    guns: number;\n    ammo: number;\n  };\n  position: {\n    x: number;\n    y: number;\n  };\n}\n\ninterface GameRoomProps {\n  roomId: string;\n  initialPlayers: Player[];\n  onLeaveGame: () => void;\n}\n\nexport default function GameRoom({ roomId, initialPlayers, onLeaveGame }: GameRoomProps) {\n  const [players, setPlayers] = useState<Player[]>(initialPlayers);\n  const [currentPlayer, setCurrentPlayer] = useState<Player | null>(null);\n  const [gameMessage, setGameMessage] = useState('');\n  const [socket, setSocket] = useState<Socket | null>(null);\n  const gameAreaRef = useRef<HTMLDivElement>(null);\n\n  useEffect(() => {\n    const socketInstance = socketManager.getSocket();\n    setSocket(socketInstance);\n\n    if (socketInstance) {\n      // Find current player\n      const myPlayer = initialPlayers.find(p => p.id === socketInstance.id);\n      setCurrentPlayer(myPlayer || null);\n\n      // Socket event listeners\n      socketInstance.on('stealAction', (data: {\n        thief: Player;\n        target: Player;\n        stolen: { guns: number; ammo: number };\n      }) => {\n        const { thief, target, stolen } = data;\n        \n        // Update players list\n        setPlayers(prev => prev.map(p => {\n          if (p.id === thief.id) return thief;\n          if (p.id === target.id) return target;\n          return p;\n        }));\n\n        // Update current player if affected\n        if (socketInstance.id === thief.id) {\n          setCurrentPlayer(thief);\n          setGameMessage(`You stole ${stolen.guns} guns and ${stolen.ammo} ammo from ${target.name}!`);\n        } else if (socketInstance.id === target.id) {\n          setCurrentPlayer(target);\n          setGameMessage(`${thief.name} stole ${stolen.guns} guns and ${stolen.ammo} ammo from you!`);\n        } else {\n          setGameMessage(`${thief.name} stole from ${target.name}!`);\n        }\n\n        // Clear message after 3 seconds\n        setTimeout(() => setGameMessage(''), 3000);\n      });\n\n      socketInstance.on('attackAction', (data: {\n        attacker: Player;\n        target: Player;\n      }) => {\n        const { attacker, target } = data;\n        \n        // Update attacker's ammo\n        setPlayers(prev => prev.map(p => {\n          if (p.id === attacker.id) return attacker;\n          return p;\n        }));\n\n        if (socketInstance.id === attacker.id) {\n          setCurrentPlayer(attacker);\n          setGameMessage(`You attacked ${target.name}!`);\n        } else if (socketInstance.id === target.id) {\n          setGameMessage(`${attacker.name} attacked you!`);\n        } else {\n          setGameMessage(`${attacker.name} attacked ${target.name}!`);\n        }\n\n        // Clear message after 3 seconds\n        setTimeout(() => setGameMessage(''), 3000);\n      });\n\n      socketInstance.on('playerMoved', (data: {\n        playerId: string;\n        position: { x: number; y: number };\n      }) => {\n        setPlayers(prev => prev.map(p => {\n          if (p.id === data.playerId) {\n            return { ...p, position: data.position };\n          }\n          return p;\n        }));\n      });\n\n      socketInstance.on('playerLeft', (data: {\n        playerId: string;\n        playerName: string;\n      }) => {\n        setPlayers(prev => prev.filter(p => p.id !== data.playerId));\n        setGameMessage(`${data.playerName} left the game`);\n        setTimeout(() => setGameMessage(''), 3000);\n      });\n    }\n\n    return () => {\n      if (socketInstance) {\n        socketInstance.off('stealAction');\n        socketInstance.off('attackAction');\n        socketInstance.off('playerMoved');\n        socketInstance.off('playerLeft');\n      }\n    };\n  }, [initialPlayers]);\n\n  const handlePlayerClick = (targetPlayer: Player) => {\n    if (!socket || !currentPlayer || targetPlayer.id === currentPlayer.id) return;\n\n    // Steal action\n    socket.emit('steal', { targetPlayerId: targetPlayer.id });\n  };\n\n  const handleAttack = (targetPlayer: Player) => {\n    if (!socket || !currentPlayer || targetPlayer.id === currentPlayer.id) return;\n\n    if (currentPlayer.inventory.guns === 0 || currentPlayer.inventory.ammo === 0) {\n      setGameMessage('You need guns and ammo to attack!');\n      setTimeout(() => setGameMessage(''), 3000);\n      return;\n    }\n\n    socket.emit('attack', { targetPlayerId: targetPlayer.id });\n  };\n\n  const handleGameAreaClick = (e: React.MouseEvent<HTMLDivElement>) => {\n    if (!socket || !gameAreaRef.current) return;\n\n    const rect = gameAreaRef.current.getBoundingClientRect();\n    const x = e.clientX - rect.left;\n    const y = e.clientY - rect.top;\n\n    socket.emit('movePlayer', { x, y });\n  };\n\n  const getPlayerColor = (playerId: string) => {\n    if (!currentPlayer) return 'bg-gray-500';\n    if (playerId === currentPlayer.id) return 'bg-blue-500';\n    return 'bg-red-500';\n  };\n\n  return (\n    <div className=\"min-h-screen bg-background flex flex-col\">\n      {/* Header */}\n      <div className=\"p-4 border-b\">\n        <div className=\"flex items-center justify-between\">\n          <div>\n            <h1 className=\"text-xl font-bold\">Play with Friend</h1>\n            <p className=\"text-sm text-muted-foreground\">Room: {roomId}</p>\n          </div>\n          <Button variant=\"outline\" onClick={onLeaveGame}>\n            Leave Game\n          </Button>\n        </div>\n      </div>\n\n      {/* Game Message */}\n      {gameMessage && (\n        <div className=\"p-4\">\n          <Alert>\n            <AlertDescription>{gameMessage}</AlertDescription>\n          </Alert>\n        </div>\n      )}\n\n      {/* Game Area */}\n      <div className=\"flex-1 flex\">\n        {/* Main Game Board */}\n        <div className=\"flex-1 relative\">\n          <div\n            ref={gameAreaRef}\n            className=\"w-full h-full bg-muted/20 relative cursor-crosshair\"\n            onClick={handleGameAreaClick}\n            style={{ minHeight: '500px' }}\n          >\n            {players.map((player) => (\n              <div\n                key={player.id}\n                className=\"absolute transform -translate-x-1/2 -translate-y-1/2 cursor-pointer\"\n                style={{\n                  left: `${Math.min(Math.max(player.position.x, 40), window.innerWidth - 40)}px`,\n                  top: `${Math.min(Math.max(player.position.y, 40), 400)}px`,\n                }}\n                onClick={(e) => {\n                  e.stopPropagation();\n                  handlePlayerClick(player);\n                }}\n              >\n                <div className=\"text-center\">\n                  <div className={`w-12 h-12 rounded-full ${getPlayerColor(player.id)} flex items-center justify-center text-white font-bold shadow-lg hover:scale-110 transition-transform`}>\n                    {player.name.charAt(0).toUpperCase()}\n                  </div>\n                  <div className=\"mt-1 text-xs font-medium\">{player.name}</div>\n                  <div className=\"flex gap-1 mt-1\">\n                    <Badge variant=\"secondary\" className=\"text-xs px-1 py-0\">\n                      {player.inventory.guns}G\n                    </Badge>\n                    <Badge variant=\"outline\" className=\"text-xs px-1 py-0\">\n                      {player.inventory.ammo}A\n                    </Badge>\n                  </div>\n                </div>\n              </div>\n            ))}\n          </div>\n        </div>\n\n        {/* Sidebar */}\n        <div className=\"w-80 border-l p-4 space-y-4\">\n          {/* Current Player Stats */}\n          {currentPlayer && (\n            <Card>\n              <CardHeader className=\"pb-3\">\n                <CardTitle className=\"text-lg\">Your Stats</CardTitle>\n              </CardHeader>\n              <CardContent className=\"space-y-3\">\n                <div className=\"flex items-center justify-between\">\n                  <span className=\"text-sm font-medium\">Name:</span>\n                  <span className=\"font-bold\">{currentPlayer.name}</span>\n                </div>\n                \n                <div className=\"space-y-2\">\n                  <div className=\"flex items-center justify-between\">\n                    <span className=\"text-sm font-medium\">Guns:</span>\n                    <Badge variant=\"secondary\">{currentPlayer.inventory.guns}</Badge>\n                  </div>\n                  <Progress value={(currentPlayer.inventory.guns / 10) * 100} className=\"h-2\" />\n                </div>\n\n                <div className=\"space-y-2\">\n                  <div className=\"flex items-center justify-between\">\n                    <span className=\"text-sm font-medium\">Ammo:</span>\n                    <Badge variant=\"outline\">{currentPlayer.inventory.ammo}</Badge>\n                  </div>\n                  <Progress value={(currentPlayer.inventory.ammo / 20) * 100} className=\"h-2\" />\n                </div>\n              </CardContent>\n            </Card>\n          )}\n\n          {/* Players List */}\n          <Card>\n            <CardHeader className=\"pb-3\">\n              <CardTitle className=\"text-lg\">Players ({players.length})</CardTitle>\n            </CardHeader>\n            <CardContent className=\"space-y-2\">\n              {players.map((player) => (\n                <div\n                  key={player.id}\n                  className={`p-3 rounded-lg border ${\n                    player.id === currentPlayer?.id ? 'bg-blue-50 border-blue-200' : 'bg-muted/50'\n                  }`}\n                >\n                  <div className=\"flex items-center justify-between mb-2\">\n                    <span className=\"font-medium\">{player.name}</span>\n                    {player.id === currentPlayer?.id && (\n                      <Badge variant=\"default\" className=\"text-xs\">You</Badge>\n                    )}\n                  </div>\n                  \n                  <div className=\"flex gap-2 mb-2\">\n                    <Badge variant=\"secondary\" className=\"text-xs\">\n                      {player.inventory.guns} guns\n                    </Badge>\n                    <Badge variant=\"outline\" className=\"text-xs\">\n                      {player.inventory.ammo} ammo\n                    </Badge>\n                  </div>\n\n                  {player.id !== currentPlayer?.id && (\n                    <div className=\"flex gap-2\">\n                      <Button\n                        size=\"sm\"\n                        variant=\"outline\"\n                        className=\"text-xs flex-1\"\n                        onClick={() => handlePlayerClick(player)}\n                      >\n                        Steal\n                      </Button>\n                      <Button\n                        size=\"sm\"\n                        variant=\"destructive\"\n                        className=\"text-xs flex-1\"\n                        onClick={() => handleAttack(player)}\n                        disabled={!currentPlayer || currentPlayer.inventory.guns === 0 || currentPlayer.inventory.ammo === 0}\n                      >\n                        Attack\n                      </Button>\n                    </div>\n                  )}\n                </div>\n              ))}\n            </CardContent>\n          </Card>\n\n          {/* Instructions */}\n          <Card>\n            <CardHeader className=\"pb-3\">\n              <CardTitle className=\"text-sm\">How to Play</CardTitle>\n            </CardHeader>\n            <CardContent className=\"text-xs text-muted-foreground space-y-1\">\n              <p>• Click on other players to steal their guns/ammo</p>\n              <p>• Use \"Attack\" button to attack with guns and ammo</p>\n              <p>• Click on the game area to move your position</p>\n              <p>• You need both guns AND ammo to attack</p>\n            </CardContent>\n          </Card>\n        </div>\n      </div>\n    </div>\n  );\n}\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 1634, "column": 0}, "map": {"version":3,"sources":["file:///project/sandbox/user-workspace/src/components/VoiceChat.tsx"],"sourcesContent":["\"use client\";\n\nimport { useState, useEffect, useRef } from 'react';\nimport { Button } from '@/components/ui/button';\nimport { Card, CardContent, CardHeader, CardTitle } from '@/components/ui/card';\nimport { Alert, AlertDescription } from '@/components/ui/alert';\nimport { Badge } from '@/components/ui/badge';\nimport socketManager from '@/lib/socket';\nimport { Socket } from 'socket.io-client';\n\ninterface VoiceChatProps {\n  roomId: string;\n}\n\ninterface PeerConnection {\n  id: string;\n  name: string;\n  connection: RTCPeerConnection;\n  stream?: MediaStream;\n}\n\nexport default function VoiceChat({ roomId }: VoiceChatProps) {\n  const [isMuted, setIsMuted] = useState(false);\n  const [isConnected, setIsConnected] = useState(false);\n  const [error, setError] = useState('');\n  const [peers, setPeers] = useState<PeerConnection[]>([]);\n  const [localStream, setLocalStream] = useState<MediaStream | null>(null);\n  const [socket, setSocket] = useState<Socket | null>(null);\n  \n  const localAudioRef = useRef<HTMLAudioElement>(null);\n  const remoteAudiosRef = useRef<{ [key: string]: HTMLAudioElement }>({});\n\n  useEffect(() => {\n    const socketInstance = socketManager.getSocket();\n    setSocket(socketInstance);\n\n    if (socketInstance) {\n      initializeVoiceChat(socketInstance);\n    }\n\n    return () => {\n      cleanup();\n    };\n  }, [roomId]);\n\n  const initializeVoiceChat = async (socketInstance: Socket) => {\n    try {\n      // Request microphone permission\n      const stream = await navigator.mediaDevices.getUserMedia({ \n        audio: {\n          echoCancellation: true,\n          noiseSuppression: true,\n          autoGainControl: true\n        } \n      });\n      \n      setLocalStream(stream);\n      setIsConnected(true);\n      setError('');\n\n      // Set up WebRTC signaling\n      setupWebRTCSignaling(socketInstance, stream);\n\n    } catch (err) {\n      console.error('Error accessing microphone:', err);\n      setError('Microphone access denied. Voice chat will not work.');\n      setIsConnected(false);\n    }\n  };\n\n  const setupWebRTCSignaling = (socketInstance: Socket, stream: MediaStream) => {\n    // WebRTC signaling events\n    socketInstance.on('voice-offer', async (data: { \n      offer: RTCSessionDescriptionInit; \n      from: string; \n      fromName: string; \n    }) => {\n      await handleOffer(data, stream);\n    });\n\n    socketInstance.on('voice-answer', async (data: { \n      answer: RTCSessionDescriptionInit; \n      from: string; \n    }) => {\n      await handleAnswer(data);\n    });\n\n    socketInstance.on('voice-ice-candidate', async (data: { \n      candidate: RTCIceCandidateInit; \n      from: string; \n    }) => {\n      await handleIceCandidate(data);\n    });\n\n    socketInstance.on('playerJoined', (data: { player: any; players: any[] }) => {\n      // When a new player joins, initiate WebRTC connection\n      if (data.player.id !== socketInstance.id) {\n        createPeerConnection(data.player.id, data.player.name, stream, true);\n      }\n    });\n\n    socketInstance.on('playerLeft', (data: { playerId: string }) => {\n      removePeerConnection(data.playerId);\n    });\n  };\n\n  const createPeerConnection = (\n    peerId: string, \n    peerName: string, \n    stream: MediaStream, \n    isInitiator: boolean = false\n  ) => {\n    const configuration: RTCConfiguration = {\n      iceServers: [\n        { urls: 'stun:stun.l.google.com:19302' },\n        { urls: 'stun:stun1.l.google.com:19302' }\n      ]\n    };\n\n    const peerConnection = new RTCPeerConnection(configuration);\n\n    // Add local stream to peer connection\n    stream.getTracks().forEach(track => {\n      peerConnection.addTrack(track, stream);\n    });\n\n    // Handle remote stream\n    peerConnection.ontrack = (event) => {\n      const [remoteStream] = event.streams;\n      playRemoteAudio(peerId, remoteStream);\n    };\n\n    // Handle ICE candidates\n    peerConnection.onicecandidate = (event) => {\n      if (event.candidate && socket) {\n        socket.emit('voice-ice-candidate', {\n          candidate: event.candidate,\n          to: peerId,\n          room: roomId\n        });\n      }\n    };\n\n    // Store peer connection\n    const newPeer: PeerConnection = {\n      id: peerId,\n      name: peerName,\n      connection: peerConnection\n    };\n\n    setPeers(prev => [...prev.filter(p => p.id !== peerId), newPeer]);\n\n    // If initiator, create and send offer\n    if (isInitiator && socket) {\n      peerConnection.createOffer().then(offer => {\n        return peerConnection.setLocalDescription(offer);\n      }).then(() => {\n        socket.emit('voice-offer', {\n          offer: peerConnection.localDescription,\n          to: peerId,\n          room: roomId\n        });\n      }).catch(err => {\n        console.error('Error creating offer:', err);\n      });\n    }\n\n    return peerConnection;\n  };\n\n  const handleOffer = async (data: { \n    offer: RTCSessionDescriptionInit; \n    from: string; \n    fromName: string; \n  }, stream: MediaStream) => {\n    if (!socket) return;\n\n    const peerConnection = createPeerConnection(data.from, data.fromName, stream, false);\n    \n    try {\n      await peerConnection.setRemoteDescription(data.offer);\n      const answer = await peerConnection.createAnswer();\n      await peerConnection.setLocalDescription(answer);\n      \n      socket.emit('voice-answer', {\n        answer: answer,\n        to: data.from,\n        room: roomId\n      });\n    } catch (err) {\n      console.error('Error handling offer:', err);\n    }\n  };\n\n  const handleAnswer = async (data: { \n    answer: RTCSessionDescriptionInit; \n    from: string; \n  }) => {\n    const peer = peers.find(p => p.id === data.from);\n    if (peer) {\n      try {\n        await peer.connection.setRemoteDescription(data.answer);\n      } catch (err) {\n        console.error('Error handling answer:', err);\n      }\n    }\n  };\n\n  const handleIceCandidate = async (data: { \n    candidate: RTCIceCandidateInit; \n    from: string; \n  }) => {\n    const peer = peers.find(p => p.id === data.from);\n    if (peer) {\n      try {\n        await peer.connection.addIceCandidate(data.candidate);\n      } catch (err) {\n        console.error('Error handling ICE candidate:', err);\n      }\n    }\n  };\n\n  const playRemoteAudio = (peerId: string, stream: MediaStream) => {\n    // Create or get audio element for this peer\n    if (!remoteAudiosRef.current[peerId]) {\n      const audio = new Audio();\n      audio.autoplay = true;\n      remoteAudiosRef.current[peerId] = audio;\n    }\n    \n    const audio = remoteAudiosRef.current[peerId];\n    audio.srcObject = stream;\n  };\n\n  const removePeerConnection = (peerId: string) => {\n    setPeers(prev => {\n      const peer = prev.find(p => p.id === peerId);\n      if (peer) {\n        peer.connection.close();\n      }\n      return prev.filter(p => p.id !== peerId);\n    });\n\n    // Remove audio element\n    if (remoteAudiosRef.current[peerId]) {\n      delete remoteAudiosRef.current[peerId];\n    }\n  };\n\n  const toggleMute = () => {\n    if (localStream) {\n      const audioTrack = localStream.getAudioTracks()[0];\n      if (audioTrack) {\n        audioTrack.enabled = !audioTrack.enabled;\n        setIsMuted(!audioTrack.enabled);\n      }\n    }\n  };\n\n  const cleanup = () => {\n    // Close all peer connections\n    peers.forEach(peer => {\n      peer.connection.close();\n    });\n\n    // Stop local stream\n    if (localStream) {\n      localStream.getTracks().forEach(track => track.stop());\n    }\n\n    // Clean up audio elements\n    Object.values(remoteAudiosRef.current).forEach(audio => {\n      audio.srcObject = null;\n    });\n    remoteAudiosRef.current = {};\n  };\n\n  return (\n    <Card className=\"w-full max-w-sm\">\n      <CardHeader className=\"pb-3\">\n        <CardTitle className=\"text-lg flex items-center gap-2\">\n          Voice Chat\n          {isConnected && (\n            <Badge variant=\"secondary\" className=\"text-xs\">\n              Connected\n            </Badge>\n          )}\n        </CardTitle>\n      </CardHeader>\n      \n      <CardContent className=\"space-y-4\">\n        {error && (\n          <Alert variant=\"destructive\">\n            <AlertDescription className=\"text-sm\">{error}</AlertDescription>\n          </Alert>\n        )}\n\n        {isConnected && (\n          <>\n            <div className=\"flex items-center justify-center\">\n              <Button\n                onClick={toggleMute}\n                variant={isMuted ? \"destructive\" : \"default\"}\n                className=\"w-full\"\n              >\n                {isMuted ? \"Unmute\" : \"Mute\"}\n              </Button>\n            </div>\n\n            <div className=\"space-y-2\">\n              <h4 className=\"text-sm font-medium\">Voice Status:</h4>\n              <div className=\"space-y-1\">\n                <div className=\"flex items-center justify-between text-sm\">\n                  <span>Your Mic:</span>\n                  <Badge variant={isMuted ? \"destructive\" : \"secondary\"}>\n                    {isMuted ? \"Muted\" : \"Active\"}\n                  </Badge>\n                </div>\n                <div className=\"flex items-center justify-between text-sm\">\n                  <span>Connected Peers:</span>\n                  <Badge variant=\"outline\">{peers.length}</Badge>\n                </div>\n              </div>\n            </div>\n\n            {peers.length > 0 && (\n              <div className=\"space-y-2\">\n                <h4 className=\"text-sm font-medium\">Talking with:</h4>\n                <div className=\"space-y-1\">\n                  {peers.map(peer => (\n                    <div key={peer.id} className=\"flex items-center justify-between text-sm p-2 bg-muted rounded\">\n                      <span>{peer.name}</span>\n                      <Badge variant=\"secondary\" className=\"text-xs\">\n                        Connected\n                      </Badge>\n                    </div>\n                  ))}\n                </div>\n              </div>\n            )}\n          </>\n        )}\n\n        {!isConnected && !error && (\n          <div className=\"text-center\">\n            <p className=\"text-sm text-muted-foreground\">\n              Requesting microphone access...\n            </p>\n          </div>\n        )}\n\n        <div className=\"text-xs text-muted-foreground space-y-1\">\n          <p>• Voice chat uses WebRTC for peer-to-peer communication</p>\n          <p>• Make sure to allow microphone access</p>\n          <p>• Voice quality depends on your internet connection</p>\n        </div>\n      </CardContent>\n\n      {/* Hidden audio element for local stream monitoring */}\n      <audio ref={localAudioRef} muted style={{ display: 'none' }} />\n    </Card>\n  );\n}\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 2134, "column": 0}, "map": {"version":3,"sources":["file:///project/sandbox/user-workspace/src/app/page.tsx"],"sourcesContent":["\"use client\";\n\nimport { useState } from 'react';\nimport GameLobby from '@/components/GameLobby';\nimport GameRoom from '@/components/GameRoom';\nimport VoiceChat from '@/components/VoiceChat';\n\ninterface Player {\n  id: string;\n  name: string;\n  room: string;\n  inventory: {\n    guns: number;\n    ammo: number;\n  };\n  position: {\n    x: number;\n    y: number;\n  };\n}\n\nexport default function HomePage() {\n  const [gameState, setGameState] = useState<'lobby' | 'playing'>('lobby');\n  const [roomId, setRoomId] = useState('');\n  const [players, setPlayers] = useState<Player[]>([]);\n\n  const handleGameStart = (newRoomId: string, newPlayers: Player[]) => {\n    setRoomId(newRoomId);\n    setPlayers(newPlayers);\n    setGameState('playing');\n  };\n\n  const handleLeaveGame = () => {\n    setGameState('lobby');\n    setRoomId('');\n    setPlayers([]);\n  };\n\n  return (\n    <div className=\"min-h-screen bg-background\">\n      {gameState === 'lobby' ? (\n        <GameLobby onGameStart={handleGameStart} />\n      ) : (\n        <div className=\"relative\">\n          <GameRoom \n            roomId={roomId} \n            initialPlayers={players} \n            onLeaveGame={handleLeaveGame} \n          />\n          \n          {/* Voice Chat Overlay */}\n          <div className=\"fixed bottom-4 right-4 z-50\">\n            <VoiceChat roomId={roomId} />\n          </div>\n        </div>\n      )}\n    </div>\n  );\n}\n"],"names":[],"mappings":";;;;AAEA;AACA;AACA;AACA;;;AALA;;;;;AAqBe,SAAS;;IACtB,MAAM,CAAC,WAAW,aAAa,GAAG,CAAA,GAAA,6JAAA,CAAA,WAAQ,AAAD,EAAuB;IAChE,MAAM,CAAC,QAAQ,UAAU,GAAG,CAAA,GAAA,6JAAA,CAAA,WAAQ,AAAD,EAAE;IACrC,MAAM,CAAC,SAAS,WAAW,GAAG,CAAA,GAAA,6JAAA,CAAA,WAAQ,AAAD,EAAY,EAAE;IAEnD,MAAM,kBAAkB,CAAC,WAAmB;QAC1C,UAAU;QACV,WAAW;QACX,aAAa;IACf;IAEA,MAAM,kBAAkB;QACtB,aAAa;QACb,UAAU;QACV,WAAW,EAAE;IACf;IAEA,qBACE,6LAAC;QAAI,WAAU;kBACZ,cAAc,wBACb,6LAAC,kIAAA,CAAA,UAAS;YAAC,aAAa;;;;;iCAExB,6LAAC;YAAI,WAAU;;8BACb,6LAAC,iIAAA,CAAA,UAAQ;oBACP,QAAQ;oBACR,gBAAgB;oBAChB,aAAa;;;;;;8BAIf,6LAAC;oBAAI,WAAU;8BACb,cAAA,6LAAC,kIAAA,CAAA,UAAS;wBAAC,QAAQ;;;;;;;;;;;;;;;;;;;;;;AAM/B;GArCwB;KAAA","debugId":null}}]
}